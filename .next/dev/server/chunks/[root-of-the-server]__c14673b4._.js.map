{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Downloads/banmaogame/rps2/banmao-fun-v2-main/app/api/telegram/generate-token/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nconst TELEGRAM_API_BASE_URL =\r\n  process.env.TELEGRAM_API_BASE_URL ?? \"http://103.75.183.59:3000\";\r\n\r\nexport async function POST(request: NextRequest) {\r\n  let body: unknown;\r\n\r\n  try {\r\n    body = await request.json();\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { message: \"Invalid JSON body\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n  try {\r\n    const upstreamResponse = await fetch(\r\n      `${TELEGRAM_API_BASE_URL}/api/generate-token`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body ?? {}),\r\n        cache: \"no-store\",\r\n      }\r\n    );\r\n\r\n    const text = await upstreamResponse.text();\r\n    const contentType = upstreamResponse.headers.get(\"content-type\") ?? \"application/json\";\r\n\r\n    return new NextResponse(text, {\r\n      status: upstreamResponse.status,\r\n      headers: {\r\n        \"content-type\": contentType,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Failed to proxy Telegram token request\", error);\r\n    return NextResponse.json(\r\n      { message: \"Failed to contact Telegram service\" },\r\n      { status: 502 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBACJ,QAAQ,GAAG,CAAC,qBAAqB,IAAI;AAEhC,eAAe,KAAK,OAAoB;IAC7C,IAAI;IAEJ,IAAI;QACF,OAAO,MAAM,QAAQ,IAAI;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO,kNAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAoB,GAC/B;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,MAAM,mBAAmB,MAAM,MAC7B,GAAG,sBAAsB,mBAAmB,CAAC,EAC7C;YACE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC,QAAQ,CAAC;YAC9B,OAAO;QACT;QAGF,MAAM,OAAO,MAAM,iBAAiB,IAAI;QACxC,MAAM,cAAc,iBAAiB,OAAO,CAAC,GAAG,CAAC,mBAAmB;QAEpE,OAAO,IAAI,kNAAY,CAAC,MAAM;YAC5B,QAAQ,iBAAiB,MAAM;YAC/B,SAAS;gBACP,gBAAgB;YAClB;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0CAA0C;QACxD,OAAO,kNAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAqC,GAChD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}