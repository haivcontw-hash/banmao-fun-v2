{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Downloads/banmaogame/banmao-fun%202/lib/serverStoragePolyfill.ts"],"sourcesContent":["// lib/serverStoragePolyfill.ts\n\n// Polyfill `localStorage` in the Node.js environment used by Next.js during SSR or\n// build steps. Some third-party SDKs expect a Storage-like object to exist even\n// when rendering on the server. Next 16 ships with an experimental storage\n// implementation, but when it is unavailable (or lacks the full API) we provide\n// a lightweight in-memory fallback that satisfies the interface used at runtime.\n\nconst globalWithStorage = globalThis as typeof globalThis & { localStorage?: Storage };\n\nif (typeof window === \"undefined\") {\n  const needsPolyfill =\n    !globalWithStorage.localStorage ||\n    typeof globalWithStorage.localStorage.getItem !== \"function\" ||\n    typeof globalWithStorage.localStorage.setItem !== \"function\";\n\n  if (needsPolyfill) {\n    const store = new Map<string, string>();\n\n    const storage = {\n      clear() {\n        store.clear();\n      },\n      getItem(key: string) {\n        return store.has(key) ? store.get(key)! : null;\n      },\n      key(index: number) {\n        return Array.from(store.keys())[index] ?? null;\n      },\n      removeItem(key: string) {\n        store.delete(key);\n      },\n      setItem(key: string, value: string) {\n        store.set(key, String(value));\n      },\n    } as Storage;\n\n    Object.defineProperty(storage, \"length\", {\n      get: () => store.size,\n    });\n\n    globalWithStorage.localStorage = storage;\n  }\n}\n\nexport {};\n"],"names":[],"mappings":"AAAA,+BAA+B;AAE/B,mFAAmF;AACnF,gFAAgF;AAChF,2EAA2E;AAC3E,gFAAgF;AAChF,iFAAiF;;AAEjF,MAAM,oBAAoB;AAE1B","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Downloads/banmaogame/banmao-fun%202/app/providers.tsx"],"sourcesContent":["// app/providers.tsx\n\"use client\";\n\nimport \"../lib/serverStoragePolyfill\";\n\nimport { ReactNode, useMemo } from \"react\";\nimport { WagmiProvider, createConfig, http } from \"wagmi\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport {\n  RainbowKitProvider,\n  darkTheme,\n  connectorsForWallets,\n} from \"@rainbow-me/rainbowkit\";\nimport {\n  okxWallet,\n  metaMaskWallet,\n  walletConnectWallet,\n  rainbowWallet,\n  rabbyWallet,\n  trustWallet,\n  bitgetWallet,\n  coinbaseWallet,\n} from \"@rainbow-me/rainbowkit/wallets\";\nimport type { Chain } from \"viem\";\nimport \"@rainbow-me/rainbowkit/styles.css\";\nimport { createRateLimitedFetch } from \"../lib/rateLimitedFetch\";\n\n// ==== ENV (đổi lại nếu cần) ====\nconst WC_PROJECT_ID =\n  process.env.NEXT_PUBLIC_WC_PROJECT_ID || \"df8d376695ef6244fbb2accd6a85f00a\";\nconst RPC = process.env.NEXT_PUBLIC_RPC_URL || \"https://xlayerrpc.okx.com\";\nconst RPC_MAX_RPS = Number(process.env.NEXT_PUBLIC_RPC_MAX_RPS ?? \"12\");\nconst RPC_RATE_LIMIT_INTERVAL_MS = Number(\n  process.env.NEXT_PUBLIC_RPC_RATE_INTERVAL_MS ?? \"1000\"\n);\n\nconst rateLimitedFetch = createRateLimitedFetch({\n  requestsPerInterval: Number.isFinite(RPC_MAX_RPS) ? Math.max(RPC_MAX_RPS, 1) : 12,\n  intervalMs: Number.isFinite(RPC_RATE_LIMIT_INTERVAL_MS)\n    ? Math.max(RPC_RATE_LIMIT_INTERVAL_MS, 0)\n    : 1000,\n});\n\n// ==== Khai báo chain XLayer (id 196) ====\nconst xlayer: Chain = {\n  id: 196,\n  name: \"XLayer\",\n  nativeCurrency: { name: \"OKB\", symbol: \"OKB\", decimals: 18 },\n  rpcUrls: {\n    default: { http: [RPC] },\n    public: { http: [RPC] },\n  },\n  blockExplorers: {\n    default: { name: \"OKLink\", url: \"https://www.oklink.com/xlayer\" },\n  },\n};\n\n// ==== Connectors (deeplink mobile tốt) ====\nconst connectors = connectorsForWallets(\n  [\n    {\n      groupName: \"Recommended\",\n      wallets: [okxWallet, metaMaskWallet, walletConnectWallet],\n    },\n    {\n      groupName: \"More wallets\",\n      wallets: [rainbowWallet, rabbyWallet, trustWallet, bitgetWallet, coinbaseWallet],\n    },\n  ],\n  {\n    appName: \"BANMAO RPS — XLayer\",\n    projectId: WC_PROJECT_ID, // WalletConnect v2\n  }\n);\n\n// ==== wagmi config ====\nconst config = createConfig({\n  chains: [xlayer],\n  connectors,\n  transports: {\n    [xlayer.id]: http(RPC, {\n      batch: true,\n      fetch: rateLimitedFetch,\n    }),\n  },\n  ssr: true,\n  // Tắt quét nhiều injected provider để modal mở nhanh, giảm log rác\n  multiInjectedProviderDiscovery: false,\n});\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 30_000, // giữ dữ liệu 30s trước khi refetch\n      gcTime: 5 * 60_000, // giảm số lần dọn cache\n      refetchOnWindowFocus: false,\n      refetchOnReconnect: false,\n      retry: 1,\n    },\n  },\n});\n\nexport default function Providers({ children }: { children: ReactNode }) {\n  const theme = useMemo(\n    () =>\n      darkTheme({\n        accentColor: \"#FFD700\",\n        accentColorForeground: \"#000\",\n        borderRadius: \"medium\",\n        overlayBlur: \"small\",\n      }),\n    []\n  );\n\n  return (\n    <WagmiProvider config={config}>\n      <QueryClientProvider client={queryClient}>\n        {/* initialChain đảm bảo modal chọn sẵn XLayer trên mobile */}\n        <RainbowKitProvider theme={theme} modalSize=\"compact\" initialChain={196}>\n          {children}\n        </RainbowKitProvider>\n      </QueryClientProvider>\n    </WagmiProvider>\n  );\n}"],"names":[],"mappings":"AAAA,oBAAoB;;;;;AA6BlB;;AA1BF;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AAZA;;;;;;;;;AA0BA,kCAAkC;AAClC,MAAM,gBACJ,wEAAyC;AAC3C,MAAM,MAAM,iEAAmC;AAC/C,MAAM,cAAc,OAAO,0NAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI;AAClE,MAAM,6BAA6B,OACjC,0NAAO,CAAC,GAAG,CAAC,gCAAgC,IAAI;AAGlD,MAAM,mBAAmB,uBAAuB;IAC9C,qBAAqB,OAAO,QAAQ,CAAC,eAAe,KAAK,GAAG,CAAC,aAAa,KAAK;IAC/E,YAAY,OAAO,QAAQ,CAAC,8BACxB,KAAK,GAAG,CAAC,4BAA4B,KACrC;AACN;AAEA,2CAA2C;AAC3C,MAAM,SAAgB;IACpB,IAAI;IACJ,MAAM;IACN,gBAAgB;QAAE,MAAM;QAAO,QAAQ;QAAO,UAAU;IAAG;IAC3D,SAAS;QACP,SAAS;YAAE,MAAM;gBAAC;aAAI;QAAC;QACvB,QAAQ;YAAE,MAAM;gBAAC;aAAI;QAAC;IACxB;IACA,gBAAgB;QACd,SAAS;YAAE,MAAM;YAAU,KAAK;QAAgC;IAClE;AACF;AAEA,6CAA6C;AAC7C,MAAM,aAAa,IAAA,wPAAoB,EACrC;IACE;QACE,WAAW;QACX,SAAS;YAAC,wQAAS;YAAE,6QAAc;YAAE,kRAAmB;SAAC;IAC3D;IACA;QACE,WAAW;QACX,SAAS;YAAC,4QAAa;YAAE,0QAAW;YAAE,0QAAW;YAAE,2QAAY;YAAE,6QAAc;SAAC;IAClF;CACD,EACD;IACE,SAAS;IACT,WAAW;AACb;AAGF,yBAAyB;AACzB,MAAM,SAAS,IAAA,gOAAY,EAAC;IAC1B,QAAQ;QAAC;KAAO;IAChB;IACA,YAAY;QACV,CAAC,OAAO,EAAE,CAAC,EAAE,IAAA,uNAAI,EAAC,KAAK;YACrB,OAAO;YACP,OAAO;QACT;IACF;IACA,KAAK;IACL,mEAAmE;IACnE,gCAAgC;AAClC;AAEA,MAAM,cAAc,IAAI,8OAAW,CAAC;IAClC,gBAAgB;QACd,SAAS;YACP,WAAW;YACX,QAAQ,IAAI;YACZ,sBAAsB;YACtB,oBAAoB;YACpB,OAAO;QACT;IACF;AACF;AAEe,SAAS,UAAU,EAAE,QAAQ,EAA2B;;IACrE,MAAM,QAAQ,IAAA,uNAAO;oCACnB,IACE,IAAA,yOAAS,EAAC;gBACR,aAAa;gBACb,uBAAuB;gBACvB,cAAc;gBACd,aAAa;YACf;mCACF,EAAE;IAGJ,qBACE,4OAAC,kNAAa;QAAC,QAAQ;kBACrB,cAAA,4OAAC,+PAAmB;YAAC,QAAQ;sBAE3B,cAAA,4OAAC,sPAAkB;gBAAC,OAAO;gBAAO,WAAU;gBAAU,cAAc;0BACjE;;;;;;;;;;;;;;;;AAKX;GAtBwB;KAAA","debugId":null}}]
}