/* =========================
    1) Theme variables
    ========================= */
:root {
  --gold: #FFD700;
  --gold-soft: #ffea80;
  --gold-secondary: #FFB300;
  --gold-rgb: 255, 215, 0;
  --gold-soft-rgb: 255, 234, 128;
  --gold-secondary-rgb: 255, 179, 0;
  --glow-strong-rgb: 255, 200, 0;
  --gold-glow-text: #ffd870;
  --gold-glow-text-rgb: 255, 216, 112;
  --bg: #000;
  --panel: #0b0b0b;
  --line: #222;
  --scrollbar-track: rgba(var(--gold-rgb), 0.12);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.48);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.9);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.38);
  --accent-foreground: #000;
  --rk-colors-accentColor: var(--gold);
  --rk-colors-accentColorForeground: var(--accent-foreground);
  --rk-colors-actionButtonBorder: rgba(var(--gold-rgb), 0.4);
  --rk-colors-actionButtonSecondaryBackground: rgba(var(--gold-rgb), 0.12);
  --rk-colors-closeButton: rgba(var(--gold-rgb), 0.85);
  --rk-colors-closeButtonBackground: rgba(0, 0, 0, 0.65);
  --rk-colors-connectButtonBackground: rgba(10, 10, 10, 0.6);
  --rk-colors-connectButtonBackgroundError: rgba(96, 0, 0, 0.7);
  --rk-colors-connectButtonInnerBackground: rgba(12, 12, 12, 0.92);
  --rk-colors-connectButtonText: var(--gold);
  --rk-colors-generalBorder: rgba(var(--gold-rgb), 0.2);
  --rk-colors-menuItemBackground: rgba(var(--gold-rgb), 0.16);
  --rk-colors-modalBackdrop: rgba(0, 0, 0, 0.78);
  --rk-colors-modalBackground: rgba(12, 12, 12, 0.94);
  --rk-colors-modalBorder: rgba(var(--gold-rgb), 0.35);
  --rk-colors-modalText: var(--gold);
  --rk-radii-actionButton: 28px;
  --rk-radii-connectButton: 36px;
  --rk-radii-menuItem: 22px;
  --rk-radii-modal: 32px;
  --rk-shadows-connectButton: 0 0 24px rgba(var(--gold-rgb), 0.25);
  --rk-shadows-dialog: 0 0 30px rgba(var(--gold-rgb), 0.28);
  --header-height: 88px;
  --header-height-mobile: 68px;
  --approved-start: #00ff7f;
  --approved-end: #00cc66;
  --approved-rgb: 0, 255, 127;
  --approved-foreground: #000;
}

body[data-theme="gold"] {
  --gold: #FFD700;
  --gold-soft: #ffea80;
  --gold-secondary: #FFB300;
  --gold-rgb: 255, 215, 0;
  --gold-soft-rgb: 255, 234, 128;
  --gold-secondary-rgb: 255, 179, 0;
  --glow-strong-rgb: 255, 200, 0;
  --gold-glow-text: #ffd870;
  --gold-glow-text-rgb: 255, 216, 112;
  --accent-foreground: #000;
  --approved-start: #00ff7f;
  --approved-end: #00cc66;
  --approved-rgb: 0, 255, 127;
  --approved-foreground: #000;
  --scrollbar-track: rgba(var(--gold-rgb), 0.12);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.5);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.95);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.38);
}

body[data-theme="white"] {
  --gold: #ffffff;
  --gold-soft: #f5f5f5;
  --gold-secondary: #d9d9d9;
  --gold-rgb: 255, 255, 255;
  --gold-soft-rgb: 240, 240, 240;
  --gold-secondary-rgb: 217, 217, 217;
  --glow-strong-rgb: 230, 230, 230;
  --gold-glow-text: #f5f5f5;
  --gold-glow-text-rgb: 245, 245, 245;
  --accent-foreground: #000;
  --approved-start: #ff4d4f;
  --approved-end: #c81d25;
  --approved-rgb: 255, 77, 79;
  --approved-foreground: #fff;
  --scrollbar-track: rgba(var(--gold-secondary-rgb), 0.28);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.75);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.95);
  --scrollbar-thumb-shadow: rgba(0, 0, 0, 0.35);
}

body[data-theme="crimson"] {
  --gold: #ff4d4f;
  --gold-soft: #ff9b9b;
  --gold-secondary: #d9363e;
  --gold-rgb: 255, 77, 79;
  --gold-soft-rgb: 255, 155, 155;
  --gold-secondary-rgb: 217, 54, 62;
  --glow-strong-rgb: 255, 120, 120;
  --gold-glow-text: #ff7b7b;
  --gold-glow-text-rgb: 255, 123, 123;
  --accent-foreground: #fff;
  --approved-start: #00ff7f;
  --approved-end: #00cc66;
  --approved-rgb: 0, 255, 127;
  --approved-foreground: #000;
  --scrollbar-track: rgba(var(--gold-rgb), 0.18);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.52);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.9);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.36);
}

body[data-theme="emerald"] {
  --gold: #00ff9d;
  --gold-soft: #a8ffb5;
  --gold-secondary: #1ecf5c;
  --gold-rgb: 0, 255, 157;
  --gold-soft-rgb: 168, 255, 181;
  --gold-secondary-rgb: 30, 207, 92;
  --glow-strong-rgb: 0, 200, 120;
  --gold-glow-text: #8bffb5;
  --gold-glow-text-rgb: 139, 255, 181;
  --accent-foreground: #003319;
  --approved-start: #ff4d4f;
  --approved-end: #8b0000;
  --approved-rgb: 255, 77, 79;
  --approved-foreground: #fff;
  --scrollbar-track: rgba(var(--gold-rgb), 0.16);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.5);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.9);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.36);
}

body[data-theme="pink"] {
  --gold: #ff6ec7;
  --gold-soft: #ffc6e7;
  --gold-secondary: #e94fa2;
  --gold-rgb: 255, 110, 199;
  --gold-soft-rgb: 255, 198, 231;
  --gold-secondary-rgb: 233, 79, 162;
  --glow-strong-rgb: 255, 140, 220;
  --gold-glow-text: #ff9fdb;
  --gold-glow-text-rgb: 255, 159, 219;
  --accent-foreground: #2b0019;
  --approved-start: #ffffff;
  --approved-end: #dcdcdc;
  --approved-rgb: 255, 255, 255;
  --approved-foreground: #1a1a1a;
  --scrollbar-track: rgba(var(--gold-rgb), 0.16);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.55);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.92);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.38);
}

body[data-theme="orange"] {
  --gold: #ff9a4c;
  --gold-soft: #ffd1a6;
  --gold-secondary: #ff6a00;
  --gold-rgb: 255, 154, 76;
  --gold-soft-rgb: 255, 209, 166;
  --gold-secondary-rgb: 255, 106, 0;
  --glow-strong-rgb: 255, 170, 80;
  --gold-glow-text: #ffbc80;
  --gold-glow-text-rgb: 255, 188, 128;
  --accent-foreground: #2e1300;
  --approved-start: #ffffff;
  --approved-end: #dcdcdc;
  --approved-rgb: 255, 255, 255;
  --approved-foreground: #1a1a1a;
  --scrollbar-track: rgba(var(--gold-rgb), 0.14);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.55);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.92);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.36);
}

body[data-theme="purple"] {
  --gold: #a077ff;
  --gold-soft: #d1c0ff;
  --gold-secondary: #7a4dff;
  --gold-rgb: 160, 119, 255;
  --gold-soft-rgb: 209, 192, 255;
  --gold-secondary-rgb: 122, 77, 255;
  --glow-strong-rgb: 168, 132, 255;
  --gold-glow-text: #c7b5ff;
  --gold-glow-text-rgb: 199, 181, 255;
  --accent-foreground: #13004a;
  --approved-start: #ffffff;
  --approved-end: #dcdcdc;
  --approved-rgb: 255, 255, 255;
  --approved-foreground: #1a1a1a;
  --scrollbar-track: rgba(var(--gold-rgb), 0.18);
  --scrollbar-thumb: rgba(var(--gold-rgb), 0.55);
  --scrollbar-thumb-active: rgba(var(--gold-secondary-rgb), 0.92);
  --scrollbar-thumb-shadow: rgba(var(--gold-secondary-rgb), 0.4);
}

/* =========================
    2) Base
    ========================= */
html, body { background: var(--bg); color: var(--gold); margin: 0; padding: 0; }
body {
  font-family: var(--font-sans), system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body[data-ui-scale="xsmall"] {
  zoom: 0.8;
}

body[data-ui-scale="small"] {
  zoom: 0.9;
}

body[data-ui-scale="normal"] {
  zoom: 1;
}

body[data-ui-scale="large"] {
  zoom: 1.1;
}

body[data-ui-scale="desktop"] {
  zoom: 0.7;
}

/* =========================
    2a) Scrollbars
    ========================= */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

*::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--scrollbar-thumb), rgba(var(--gold-secondary-rgb), 0.5));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px var(--scrollbar-thumb-shadow);
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

*::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, var(--scrollbar-thumb-active), rgba(var(--glow-strong-rgb), 0.95));
  box-shadow: 0 0 14px 4px rgba(var(--gold-rgb), 0.55);
}

*::-webkit-scrollbar-corner {
  background: transparent;
}
h1, h2, h3 {
  font-family: var(--font-title), var(--font-sans), sans-serif;
  color: var(--gold-soft);
  margin: 0 0 10px;
}

/* =========================
    3) Controls
    ========================= */
button {
  background: linear-gradient(90deg, var(--gold), var(--gold-secondary));
  color: var(--accent-foreground);
  border: none;
  border-radius: 56px;
  padding: 10px 14px;
  font-weight: 700;
  cursor: pointer;
  transition: filter 0.2s ease, transform 0.2s ease, box-shadow 0.25s ease, background 0.25s ease;
  box-shadow: 0 0 0 rgba(var(--gold-rgb), 0);
}
button:hover,
button:focus-visible {
  filter: brightness(1.1);
  transform: translateY(-2px);
  box-shadow: 0 0 20px rgba(var(--gold-rgb), 0.55);
}
button:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.6);
  outline-offset: 2px;
}
button:active {
  transform: translateY(-1px);
  box-shadow: 0 0 26px rgba(var(--gold-rgb), 0.7);
}
button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  filter: none;
  transform: none;
  box-shadow: none;
}

.commit-window-control {
  display: inline-flex;
  align-items: stretch;
  justify-content: center;
  border-radius: 999px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(var(--gold-rgb), 0.08);
  overflow: hidden;
  box-shadow: inset 0 0 12px rgba(var(--gold-rgb), 0.15);
  max-width: 220px;
  width: 100%;
}

.commit-window-control--wide {
  max-width: 100%;
}

.commit-window-control__input {
  flex: 1;
  min-width: 0;
  background: transparent;
  border: none;
  padding: 10px 12px;
  text-align: center;
  font-weight: 600;
  color: var(--gold);
  width: 100%;
}

.commit-window-control__input:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 2px rgba(var(--gold-rgb), 0.35);
}

.commit-window-control__input::-webkit-outer-spin-button,
.commit-window-control__input::-webkit-inner-spin-button {
  appearance: none;
  -webkit-appearance: none;
  margin: 0;
}

.commit-window-control__input[type="number"] {
  appearance: textfield;
  -moz-appearance: textfield;
}

.commit-window-control__step {
  background: linear-gradient(180deg, rgba(var(--gold-rgb), 0.95), rgba(var(--gold-secondary-rgb), 0.85));
  color: #000;
  border-radius: 0;
  padding: 0 14px;
  font-size: 20px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  box-shadow: none;
}

.commit-window-control__step:first-of-type {
  border-right: 1px solid rgba(0, 0, 0, 0.18);
}

.commit-window-control__step:last-of-type {
  border-left: 1px solid rgba(0, 0, 0, 0.18);
}

.commit-window-control__step:hover,
.commit-window-control__step:focus-visible {
  filter: brightness(1.08);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.45);
}

.commit-window-control__step:active {
  transform: translateY(-1px);
}

.commit-window-control__step-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 6px;
  margin-top: 6px;
}

.commit-window-control__step-option {
  background: rgba(var(--gold-rgb), 0.16);
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  border-radius: 999px;
  padding: 3px 12px;
  font-size: 9px;
  font-weight: 600;
  color: rgba(var(--gold-rgb), 0.9);
  transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.commit-window-control__step-option:hover,
.commit-window-control__step-option:focus-visible {
  background: rgba(var(--gold-rgb), 0.28);
  color: #000;
  box-shadow: 0 0 16px rgba(var(--gold-rgb), 0.35);
}

.commit-window-control__step-option--active,
.commit-window-control__step-option--active:hover,
.commit-window-control__step-option--active:focus-visible {
  background: linear-gradient(180deg, rgba(var(--gold-rgb), 0.95), rgba(var(--gold-secondary-rgb), 0.85));
  color: #000;
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.45);
}

.btn-forfeit {
  background: linear-gradient(90deg, #ff4d4f, #d9363e);
  color: #fff;
  box-shadow: 0 0 0 rgba(255, 77, 79, 0);
}

.btn-forfeit:hover,
.btn-forfeit:focus-visible {
  filter: brightness(1.05);
  box-shadow: 0 0 20px rgba(255, 77, 79, 0.55);
}

.btn-forfeit:active {
  box-shadow: 0 0 24px rgba(255, 77, 79, 0.65);
}

.wallet-connect,
.wallet-connect--chip {
  background: transparent;
  color: var(--gold);
  border: 2px solid rgba(var(--gold-rgb), 0.65);
  border-radius: 999px;
  padding: 10px 18px;
  font-weight: 700;
  letter-spacing: 0.02em;
  text-transform: uppercase;
  box-shadow: 0 0 0 rgba(var(--gold-rgb), 0.2);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  backdrop-filter: blur(6px);
}

.wallet-connect:hover,
.wallet-connect:focus-visible,
.wallet-connect--chip:hover,
.wallet-connect--chip:focus-visible {
  background: rgba(var(--gold-rgb), 0.1);
  border-color: rgba(var(--gold-rgb), 0.85);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.35);
}

.wallet-connect:disabled,
.wallet-connect--chip:disabled {
  opacity: 0.6;
  box-shadow: none;
  cursor: not-allowed;
}

.wallet-connect--chip {
  padding: 10px 16px;
  text-transform: none;
}

.wallet-connect--frame {
  min-width: 180px;
  min-height: 46px;
  justify-content: center;
  font-size: 16px;
  background: transparent;
  border: 2px solid rgba(var(--gold-rgb), 0.55);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.14);
  backdrop-filter: blur(8px);
}

.wallet-connect--frame:hover,
.wallet-connect--frame:focus-visible {
  background: rgba(var(--gold-rgb), 0.08);
  box-shadow: 0 0 22px rgba(var(--gold-rgb), 0.28);
}

.wallet-connect--warning {
  border-color: rgba(255, 120, 0, 0.65);
  color: #ffb347;
}

.wallet-connect--warning:hover,
.wallet-connect--warning:focus-visible {
  background: rgba(255, 120, 0, 0.12);
  border-color: rgba(255, 160, 40, 0.8);
  box-shadow: 0 0 18px rgba(255, 140, 40, 0.35);
}

.wallet-connect__group {
  display: flex;
  gap: 9px;
  align-items: center;
}

.wallet-connect__dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(var(--gold-rgb), 0.8);
  box-shadow: 0 0 12px rgba(var(--gold-rgb), 0.6);
}

.wallet-connect__icon {
  display: inline-flex;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  overflow: hidden;
  box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.35);
}

.wallet-connect__icon img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

input, select {
  width: 100%;
  padding: 10px;
  background: #111;
  color: var(--gold);
  border: 1px solid var(--gold);
  border-radius: 56px;
  outline: none;
}

.badge { display: inline-block; padding: 3px 10px; border: 1px solid #444; border-radius: 999px; font-size: 12px; }
.badge.warning { background-color: #9d5a00; color: var(--gold-soft); font-weight: 600; }
.badge.primary { background-color: #006400; color: #a8ffb5; font-weight: 600; }
.badge.win { background-color: #008000; color: #fff; font-weight: 700; }
.badge.lose { background-color: #8b0000; color: #fff; font-weight: 700; }
.badge.draw { background-color: #555555; color: #fff; font-weight: 700; }
.badge.forfeit { background-color: #4b0082; color: #fff; font-weight: 700; }

/* =========================
    4) Table & helpers
    ========================= */
.table { width: 100%; border-collapse: collapse; table-layout: auto; }
.table th, .table td {
  border-top: 1px solid var(--line);
  padding: 8px 6px;
  font-size: 13px;
  text-align: center;
  vertical-align: middle;
  word-wrap: break-word;
  overflow-wrap: anywhere;
}
.table th { background: #111; }

/* Highlight phòng của người dùng */
.table tr.my-room { background-color: rgba(var(--gold-rgb), 0.08); }
.table tr.my-room td { border-color: rgba(var(--gold-rgb), 0.4); }

.table tbody tr,
.leaderboard-table tbody tr,
.personal-board__table tbody tr {
  transition: background 0.25s ease, box-shadow 0.25s ease, transform 0.2s ease;
}

.table tbody tr:focus-within,
.table tbody tr:hover,
.table tbody tr:active,
.leaderboard-table tbody tr:focus-within,
.leaderboard-table tbody tr:hover,
.leaderboard-table tbody tr:active,
.personal-board__table tbody tr:focus-within,
.personal-board__table tbody tr:hover,
.personal-board__table tbody tr:active {
  background: rgba(var(--gold-rgb), 0.12);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.35);
  transform: translateY(-1px);
  position: relative;
  z-index: 1;
}

/* Nút hành động trong bảng */
.table-action-button {
  padding: 6px 10px;
  font-size: 12px;
  border-radius: 66px;
  transition: filter 0.2s ease, transform 0.2s ease, box-shadow 0.25s ease;
}
.table-action-button:hover,
.table-action-button:focus-visible {
  filter: brightness(1.15);
  transform: translateY(-1px);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.45);
}
.table-action-button:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.5);
  outline-offset: 2px;
}
.table-action-button:active {
  filter: brightness(1.05);
  transform: translateY(-0.5px);
  box-shadow: 0 0 22px rgba(var(--gold-rgb), 0.55);
}
.table-action-button.secondary {
  background: transparent;
  color: var(--gold);
  border: 1px solid var(--gold);
}
.table-action-button.secondary:hover,
.table-action-button.secondary:focus-visible,
.table-action-button.secondary:active {
  background: rgba(var(--gold-rgb), 0.12);
}

.table-action-button.danger {
  background: linear-gradient(90deg, #ff4d4f, #d9363e);
  color: #fff;
  border: none;
  box-shadow: 0 0 0 rgba(255, 77, 79, 0);
}

.table-action-button.danger:hover,
.table-action-button.danger:focus-visible {
  filter: brightness(1.05);
  box-shadow: 0 0 18px rgba(255, 77, 79, 0.5);
}

.table-action-group {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  flex-wrap: wrap;
}

/* Cài đặt chiều rộng cột cho Rooms/Leaderboard (7 cột) */
.table thead th:nth-child(1) { width: 6%; }   /* ID */
.table thead th:nth-child(2) { width: 12%; }  /* Creator / Address */
.table thead th:nth-child(3) { width: 12%; }  /* Opponent / Wins */
.table thead th:nth-child(4) { width: 10%; }  /* Stake / Losses */
.table thead th.time-col { width: 1%; }       /* Time */
.table thead th.state-col { width: 1%; }      /* State */
.table thead th.action-col { width: auto; }   /* Action */

/* Thu gọn cột Time/State theo nội dung thực tế */
.table thead th.time-col,
.table tbody td.time-col,
.table thead th.state-col,
.table tbody td.state-col {
  width: 1%;
  padding-left: 4px;
  padding-right: 4px;
  white-space: nowrap;
}

.table thead th.action-col,
.table tbody td.action-col {
  width: auto;
  text-align: center;
}

.table tbody td.action-col > * {
  margin-left: auto;
  margin-right: auto;
}

/* Ô địa chỉ + nút copy */
.address-cell {
  text-align: left !important;
  font-size: 10px;
  padding: 8px 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.address-cell > * {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  gap: 4px;
}
.address-cell span {
  font-size: 10px;
  flex: 1;
  min-width: 0;
}
.table .copy-btn, .leaderboard-table .copy-btn {
  padding: 2px 4px;
  font-size: 8px;
  border-radius: 14px;
  margin-left: 4px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Chống tràn text ở các cột hẹp (Time/State/Action) */
.table th.time-col,
.table td.time-col,
.table th.state-col,
.table td.state-col {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 140px;
}

.table th.action-col,
.table td.action-col {
  white-space: normal;
  overflow: visible;
  text-overflow: initial;
}

.toast-card {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  background: rgba(15, 15, 15, 0.98);
  color: var(--gold);
  padding: 16px 18px;
  border-radius: 32px;
  border: 1px solid rgba(var(--gold-rgb), 0.3);
  width: min(420px, 96vw);
  pointer-events: auto;
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
  overflow: hidden;
}

.toast-card--success {
  border-color: rgba(0, 200, 140, 0.5);
}

.toast-card--error {
  border-color: rgba(255, 80, 80, 0.5);
}

.toast-card--loading {
  border-color: rgba(var(--gold-rgb), 0.5);
}

.toast-card--alert {
  flex-direction: column;
  align-items: center;
  text-align: center;
  width: auto;
  min-width: min(260px, 92vw);
  max-width: min(420px, 96vw);
  padding: 20px 24px 18px;
  border: 2px solid rgba(255, 82, 82, 0.85);
  box-shadow: 0 0 16px rgba(255, 70, 70, 0.6);
  animation: toast-alert-glow 1.4s ease-in-out infinite alternate;
  gap: 14px;
}

.toast-card--join-confirm {
  align-items: center;
  text-align: center;
  background:
    radial-gradient(120% 120% at 12% -10%, rgba(var(--gold-soft-rgb), 0.22), transparent),
    linear-gradient(180deg, rgba(24, 12, 0, 0.95), rgba(6, 3, 0, 0.92));
  border: 2px solid rgba(var(--gold-soft-rgb), 0.75);
  box-shadow:
    0 20px 42px rgba(0, 0, 0, 0.65),
    inset 0 0 0 1px rgba(var(--gold-soft-rgb), 0.2);
  gap: 18px;
  animation: none;
}

.toast-card--join-confirm .toast-close {
  background: rgba(24, 12, 0, 0.8);
  border-color: rgba(var(--gold-soft-rgb), 0.45);
  color: rgba(var(--gold-soft-rgb), 0.85);
}

.toast-card--join-confirm .toast-close:hover,
.toast-card--join-confirm .toast-close:focus-visible {
  background: rgba(40, 20, 0, 0.9);
  color: rgba(var(--gold-soft-rgb), 1);
}

.toast-join__header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  width: 100%;
}

.toast-join__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 55px;
  height: 55px;
  border-radius: 4444px;
  background: rgba(var(--gold-soft-rgb), 0.12);
  border: 1px solid rgba(var(--gold-soft-rgb), 0.35);
  box-shadow: 0 0 22px rgba(255, 190, 64, 0.4);
  color: rgba(var(--gold-soft-rgb), 1);
}

.toast-join__icon svg {
  width: 28px;
  height: 28px;
}

.toast-join__copy {
  display: flex;
  flex-direction: column;
  gap: 4px;
  align-items: center;
  text-align: center;
}

.toast-join__copy strong {
  font-size: 17px;
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.toast-join__copy span {
  font-size: 13px;
  color: rgba(var(--gold-soft-rgb), 0.75);
}

.toast-join__details {
  display: grid;
  gap: 12px;
  width: 100%;
  max-width: 100%;
  padding: 10px 99px;
  border-radius: 32px;
  background: rgba(var(--gold-soft-rgb), 0.08);
  border: 1px solid rgba(var(--gold-soft-rgb), 0.28);
  box-sizing: border-box;
  margin: 0 auto;
  justify-items: center;
}

.toast-join__details-item {
  display: flex;
  flex-direction: column;
  gap: 3px;
  align-items: center;
  text-align: center;
}

.toast-join__label {
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(var(--gold-soft-rgb), 0.65);
}

.toast-join__value {
  font-size: 16px;
  font-weight: 700;
  color: rgba(var(--gold-soft-rgb), 0.95);
}

.toast-join__value--stake {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
}

.toast-join__value-icon {
  width: 18px;
  height: 18px;
  color: rgba(var(--gold-soft-rgb), 0.95);
  flex-shrink: 0;
}

.toast-join__hint {
  font-size: 12px;
  color: rgba(var(--gold-soft-rgb), 0.65);
}

.toast-join__actions {
  width: 100%;
  gap: 10px;
}

.toast-join__actions .table-action-button {
  width: 100%;
  justify-content: center;
}

.toast-card--alert .toast-text {
  align-items: center;
  text-align: center;
  gap: 6px;
}

.toast-card--alert .toast-actions {
  width: 100%;
  align-items: center;
  gap: 10px;
}

.toast-card--alert .toast-actions button {
  width: 100%;
  justify-content: center;
  display: flex;
}

@keyframes toast-alert-glow {
  0% {
    border-color: rgba(255, 82, 82, 0.6);
    box-shadow: 0 0 12px rgba(255, 58, 58, 0.45);
  }
  100% {
    border-color: rgba(255, 120, 120, 0.95);
    box-shadow: 0 0 26px rgba(255, 0, 0, 0.75);
  }
}

.toast-text {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 13px;
}

.toast-card--simple {
  flex-direction: column;
  align-items: center;
  text-align: center;
  border: 2px solid rgba(0, 255, 128, 0.8);
  box-shadow: 0 0 18px rgba(0, 255, 128, 0.55);
  padding: 18px 20px;
  max-width: 360px;
  width: min(360px, 92vw);
  gap: 10px;
}

.toast-card--status {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 18px;
  border-radius: 999px;
  border: 2px solid currentColor;
  box-shadow: 0 0 16px currentColor;
  gap: 8px;
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--gold);
  background: rgba(12, 12, 12, 0.9);
  width: auto;
  min-width: auto;
}

.toast-card--result {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 16px;
  border-radius: 999px;
  border: 2px solid rgba(var(--gold-rgb), 0.5);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.35);
  width: auto;
  min-width: auto;
  max-width: none;
  background: rgba(12, 12, 12, 0.92);
  color: var(--gold);
}

.toast-card--result .toast-text {
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  font-size: 12px;
  text-align: left;
}

.toast-card--result .toast-text strong {
  font-size: 13px;
  letter-spacing: 0.02em;
}

.toast-card--result .toast-card__icon {
  font-size: 22px;
}

.toast-card--result .toast-close {
  position: static;
  width: auto;
  height: auto;
  padding: 2px 6px;
  border: none;
  background: transparent;
  color: currentColor;
  opacity: 0.8;
}

.toast-card--result .toast-close:hover,
.toast-card--result .toast-close:focus-visible {
  background: transparent;
  color: currentColor;
  opacity: 1;
}

.toast-card--result-win {
  color: #00ff9d;
  border-color: rgba(0, 255, 157, 0.85);
  box-shadow: 0 0 18px rgba(0, 255, 157, 0.55);
}

.toast-card--result-lose {
  color: #ff4d57;
  border-color: rgba(255, 77, 87, 0.85);
  box-shadow: 0 0 18px rgba(255, 77, 87, 0.55);
}

.toast-card--result-draw {
  color: var(--gold);
  border-color: rgba(var(--gold-rgb), 0.6);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.45);
}

.toast-card--success.toast-card--status {
  color: #00ff9d;
  border-color: rgba(0, 255, 157, 0.9);
  box-shadow: 0 0 22px rgba(0, 255, 157, 0.75);
}

.toast-card--error.toast-card--status {
  color: #ff4d57;
  border-color: rgba(255, 77, 87, 0.9);
  box-shadow: 0 0 22px rgba(255, 77, 87, 0.75);
}

.toast-card--loading.toast-card--status {
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.9);
  box-shadow: 0 0 22px rgba(255, 255, 255, 0.75);
}

.toast-status-text {
  display: inline-block;
}

.toast-card--simple .toast-text {
  align-items: center;
  text-align: center;
  gap: 6px;
}

.toast-card--success.toast-card--simple,
.toast-card--error.toast-card--simple {
  flex-direction: row;
  align-items: center;
  padding: 10px 14px;
  gap: 8px;
  border-radius: 999px;
  width: auto;
  max-width: none;
  min-width: auto;
}

.toast-card--success.toast-card--simple .toast-text,
.toast-card--error.toast-card--simple .toast-text {
  flex-direction: row;
  align-items: center;
  gap: 6px;
  text-align: left;
  white-space: nowrap;
}

.toast-card--success.toast-card--simple .toast-text span:last-child,
.toast-card--error.toast-card--simple .toast-text span:last-child {
  font-weight: 500;
}

.toast-card--success.toast-card--simple .toast-close,
.toast-card--error.toast-card--simple .toast-close {
  position: static;
  line-height: 1;
}

.toast-card__icon {
  font-size: 28px;
}

.toast-card--simple .toast-close {
  top: 10px;
  right: 10px;
}

.toast-actions {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.toast-close {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(0, 0, 0, 0.35);
  color: var(--gold);
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.toast-close:hover,
.toast-close:focus-visible {
  background: rgba(var(--gold-rgb), 0.25);
  color: #000;
}

.toast-wrapper {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}

@media (max-width: 640px) {
  .toast-card {
    width: auto;
    max-width: calc(100vw - 16px);
    margin: 0;
    border-radius: 36px;
  }
}

/* =========================
    5) Form rows & main layout
    ========================= */
.row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 24px;
  justify-content: center;
}
.row section { max-width: 100%; padding: 16px; }

/* Tiêu đề các panel vào giữa */
.row section h3 { text-align: center; margin-left: 0; }
.rules-panel h3, .leaderboard-panel h3 { text-align: center; }

/* Giữ input co giãn 100%, không tràn panel */
.row section > * { margin-left: 0; margin-right: 0; }

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
  margin: 0 auto 16px;
  text-align: center;
  justify-content: center;
  justify-items: center;
  width: 100%;
}

.stake-section__info-table {
  width: 100%;
  max-width: min(720px, 100%);
  margin: 22px auto;
  border-collapse: collapse;
  border-spacing: 0;
  background: rgba(var(--gold-rgb), 0.1);
  border: 1px solid rgba(var(--gold-rgb), 0.38);
  border-radius: 32px;
  overflow: hidden;
  box-shadow:
    inset 0 0 0 rgba(var(--gold-rgb), 0),
    0 0 44px rgba(var(--gold-rgb), 0.16);
  backdrop-filter: blur(6px);
  table-layout: fixed;
}

.stake-section__info-table tbody tr {
  border-bottom: 1px solid rgba(var(--gold-rgb), 0.22);
  transition: background 0.25s ease, transform 0.25s ease;
}

.stake-section__info-table tbody tr:last-child {
  border-bottom: none;
}

.stake-section__info-table tbody tr:is(:hover, :focus-within) {
  background: rgba(var(--gold-rgb), 0.08);
  transform: translateY(-1px);
}

.stake-section__info-table td {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: 5px 22px;
  text-align: center;
  vertical-align: middle;
  word-break: break-word;
}

.stake-section__info-main {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  width: 100%;
}

.stake-section__info-stack {
  display: flex;
  flex-direction: column;
  gap: 22px;
}

.telegram-reminders {
  margin-top: 18px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  text-align: center;
}

.telegram-reminders__toggle {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 18px;
  border-radius: 999px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(var(--gold-rgb), 0.08);
  color: rgba(var(--text-rgb), 0.92);
  font-size: 0.95rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  transition: transform 0.2s ease, border-color 0.2s ease, background 0.2s ease,
    box-shadow 0.2s ease;
}

.telegram-reminders__toggle:hover,
.telegram-reminders__toggle:focus-visible {
  border-color: rgba(var(--gold-rgb), 0.55);
  background: rgba(var(--gold-rgb), 0.16);
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.18);
}

.telegram-reminders__toggle:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.5);
  outline-offset: 2px;
}

.telegram-reminders__toggle span {
  display: inline-flex;
  align-items: center;
}

.telegram-reminders__chevron {
  transition: transform 0.24s ease;
}

.telegram-reminders__chevron--open {
  transform: rotate(180deg);
}

.telegram-reminders__hint {
  margin: 0;
  max-width: 420px;
  font-size: 0.85rem;
  color: rgba(var(--text-rgb), 0.8);
}

.telegram-reminders:not(.telegram-reminders--collapsed) .telegram-reminders__hint {
  display: none;
}

.telegram-reminders__content {
  width: min(100%, 420px);
  display: flex;
  justify-content: center;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(var(--gold-rgb), 0.3);
  background: rgba(var(--gold-rgb), 0.05);
}

.telegram-reminders__content > * {
  width: 100%;
}

.telegram-reminders__content[hidden] {
  display: none;
}

.telegram-connect-box {
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding: 18px;
  border-radius: 16px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(var(--gold-rgb), 0.08);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18);
  align-items: center;
  text-align: center;
}

.telegram-connect-box__title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(var(--gold-rgb), 0.92);
}

.telegram-connect-box__status {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(var(--gold-rgb), 0.28);
  background: rgba(var(--gold-rgb), 0.09);
  font-size: 13px;
  line-height: 1.6;
  text-align: center;
}

.telegram-connect-box__status-icon {
  font-size: 20px;
  line-height: 1;
}

.telegram-connect-box__status-text {
  flex: 1;
  margin: 0;
  color: rgba(var(--text-rgb), 0.82);
  text-align: center;
}

.telegram-connect-box__status--loading .telegram-connect-box__status-text {
  color: rgba(var(--text-rgb), 0.72);
}

.telegram-connect-box__status--connecting {
  border-color: rgba(var(--gold-rgb), 0.45);
  background: rgba(var(--gold-rgb), 0.14);
}

.telegram-connect-box__status--connecting .telegram-connect-box__status-text {
  color: rgba(var(--gold-rgb), 0.95);
  font-weight: 600;
}

.telegram-connect-box__status--connected {
  border-color: rgba(0, 200, 120, 0.45);
  background: rgba(0, 200, 120, 0.08);
}

.telegram-connect-box__status--connected .telegram-connect-box__status-text {
  color: rgba(0, 200, 120, 0.95);
  font-weight: 600;
}

.telegram-connect-box__status--error {
  border-color: rgba(255, 72, 72, 0.55);
  background: rgba(255, 72, 72, 0.08);
}

.telegram-connect-box__status--error .telegram-connect-box__status-text {
  color: rgba(255, 72, 72, 0.92);
  font-weight: 600;
}

.telegram-connect-box__error {
  text-align: center;
  width: 100%;
}

.telegram-connect-box__button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 18px;
  border-radius: 12px;
  border: 1px solid rgba(var(--gold-rgb), 0.55);
  background: linear-gradient(180deg, rgba(var(--gold-rgb), 0.24), rgba(var(--gold-rgb), 0.05));
  color: var(--text);
  font-weight: 600;
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  align-self: center;
}

.telegram-connect-box__button:hover,
.telegram-connect-box__button:focus-visible {
  border-color: rgba(var(--gold-rgb), 0.85);
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.2);
}

.telegram-connect-box__button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.telegram-connect-box__error {
  margin: 0;
  font-size: 13px;
  color: rgba(255, 72, 72, 0.92);
}

.stake-section__info-caption {
  display: block;
  margin-top: 6px;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: rgba(var(--gold-rgb), 0.82);
}

.stake-section__info-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(var(--gold-rgb), 0.12);
  color: rgba(var(--gold-rgb), 0.92);
  font-size: 18px;
  box-shadow: inset 0 0 12px rgba(var(--gold-rgb), 0.18);
}

.stake-section__info-value {
  display: block;
  font-size: 18px;
  font-weight: 700;
  letter-spacing: 0.02em;
  overflow-wrap: anywhere;
}

.stake-section__info-detail {
  display: block;
  margin-top: 6px;
  font-size: 13px;
  letter-spacing: 0.06em;
  color: rgba(var(--gold-rgb), 0.75);
  overflow-wrap: anywhere;
}

.stake-section__actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  width: min(100%, 460px);
  margin-left: auto;
  margin-right: auto;
}

.stake-section__input {
  display: block;
  margin: 0 auto;
  width: min(100%, 460px);
}

.stat-label {
  font-size: 14px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: rgb(255, 217, 0);
}

.stat-value {
  font-size: 16px;
  font-weight: 700;
  color: var(--gold-soft);
}

.main-wrapper {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px;
  padding-top: calc(16px + var(--header-height));
  box-sizing: border-box;
}

@media (max-width: 640px) {
  .main-wrapper {
    padding-top: calc(16px + var(--header-height-mobile));
  }
}

.row section input {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}

.row section div { justify-content: flex-start; gap: 10px; }
.row section input + div { margin-top: 10px; }

@media (max-width: 860px) {
  .row { grid-template-columns: 1fr; justify-content: center; }
  .row section { max-width: none; }
}

@media (max-width: 640px) {
  .stake-section__info-table {
    border-radius: 22px;
  }

  .stake-section__info-table tr {
    display: block;
  }

  .stake-section__info-table td {
    width: 100%;
    padding: 16px 18px;
  }

  .stake-section__info-main {
    flex-direction: column;
    gap: 8px;
  }

  .stake-section__info-value,
  .stake-section__info-detail {
    text-align: center;
  }

  .stake-section__actions {
    justify-content: center;
  }

  .stake-section {
    padding: 18px 16px 24px;
  }
}

/* Layout 2 cột chính */
.main-content {
  display: grid;
  grid-template-columns: minmax(0, 2.5fr) minmax(260px, 1fr);
  gap: 32px;
  margin-top: 24px;
}
@media (max-width: 1180px) {
  .main-content { grid-template-columns: minmax(0, 1fr); }
}

/* Dòng hành động Commit/Reveal/Claim */
.actions-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}
.actions-row button {
  flex: 0 0 auto;
}

/* =========================
    6) Khung Luật chơi
    ========================= */
.rules-panel {
  border: 1px solid var(--line);
  border-radius: 44px;
  padding: 14px;
  background: rgba(0,0,0,0.4);
  height: fit-content;
  max-width: 100%;
  overflow: hidden;
}

.rules-panel:is(:hover, :focus-visible, :focus-within) {
  animation: panel-glow-pulse 1.8s ease-in-out infinite;
}
.rules-panel ul { list-style: none; padding-left: 0; }
.rules-panel li {
  list-style: none;
}

.rule-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin-bottom: 12px;
  padding: 12px 14px;
  border-radius: 32px;
  border: 1px solid rgba(var(--gold-rgb), 0.2);
  background: rgba(var(--gold-rgb), 0.05);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease, background 0.25s ease;
  position: relative;
  overflow: hidden;
}

.rule-item:last-child {
  margin-bottom: 0;
}

.rule-item:hover,
.rule-item:focus-visible,
.rule-item:focus-within {
  background: rgba(38, 28, 0, 0.88);
  border-color: rgba(var(--gold-rgb), 0.6);
  box-shadow: 0 0 24px rgba(var(--gold-rgb), 0.35);
  transform: translateY(-2px);
}

.rule-accent-start {
  border-color: rgba(0, 255, 209, 0.25);
  background: linear-gradient(135deg, rgba(0, 255, 209, 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-commit {
  border-color: rgba(40, 120, 255, 0.25);
  background: linear-gradient(135deg, rgba(40, 120, 255, 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-reveal {
  border-color: rgba(var(--gold-secondary-rgb), 0.25);
  background: linear-gradient(135deg, rgba(var(--gold-secondary-rgb), 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-outcome {
  border-color: rgba(var(--gold-rgb), 0.35);
  background: linear-gradient(135deg, rgba(var(--gold-rgb), 0.12), rgba(0, 0, 0, 0));
}

.rule-accent-timeout {
  border-color: rgba(255, 99, 132, 0.25);
  background: linear-gradient(135deg, rgba(255, 99, 132, 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-forfeit {
  border-color: rgba(180, 180, 255, 0.25);
  background: linear-gradient(135deg, rgba(180, 180, 255, 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-both-commit {
  border-color: rgba(0, 191, 255, 0.25);
  background: linear-gradient(135deg, rgba(0, 191, 255, 0.08), rgba(0, 0, 0, 0));
}

.rule-accent-both-reveal {
  border-color: rgba(186, 85, 211, 0.25);
  background: linear-gradient(135deg, rgba(186, 85, 211, 0.08), rgba(0, 0, 0, 0));
}

.rule-icon {
  font-size: 30px;
  line-height: 2;
  filter: drop-shadow(0 0 10px rgba(var(--gold-rgb), 0.45));
}

.rule-text {
  flex: 1;
  font-size: 14px;
  line-height: 1.45;
}

.community-links {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
  text-align: center;
}

.community-links li {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  margin: 0;
  padding: 22px 10px;
  border-radius: 360px;
  border: 8px solid rgba(var(--gold-rgb), 0.18);
  background: rgba(var(--gold-rgb), 0.04);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease, background 0.25s ease;
  width: 92%;
  max-width: 380px;
  position: relative;
  box-shadow:
    0 0 0 rgba(var(--gold-rgb), 0),
    inset 0 0 0 rgba(var(--gold-rgb), 0.08);
}

.community-links li:is(:hover, :focus-within) {
  transform: translateY(-3px);
  border-color: rgba(var(--gold-rgb), 0.6);
  background: rgba(38, 28, 0, 0.88);
  box-shadow:
    0 0 22px rgba(var(--gold-rgb), 0.35),
    0 0 42px rgba(var(--gold-rgb), 0.3);
  animation: tile-glow-pulse 1.6s ease-in-out infinite;
}

.community-links a {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  text-decoration: none;
  animation: communityLinkCycle 6s linear infinite;
  color: var(--gold);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.2);
}

.community-links a:hover,
.community-links a:focus-visible {
  text-decoration: underline;
}

.community-links li > span {
  font-size: 10px;
  opacity: 0.85;
}

.footer-credit {
  text-align: center;
  margin-top: 11px;
  font-size: 22px;
  opacity: 1.7;
  animation: footer-credit-cycle 4.2s linear infinite;
}

@keyframes footer-credit-cycle {
  0% {
    color: #ffffff;
  }
  14% {
    color: var(--gold);
  }
  28% {
    color: #00ff66;
  }
  42% {
    color: #000000;
  }
  57% {
    color: #ff0000;
  }
  71% {
    color: #ffa500;
  }
  85% {
    color: #00bfff;
  }
  100% {
    color: #ffffff;
  }
}

@keyframes communityLinkCycle {
  0% {
    color: var(--gold);
  }
  25% {
    color: #ff4d4f;
  }
  50% {
    color: #1ecf5c;
  }
  75% {
    color: #111111;
  }
  100% {
    color: var(--gold);
  }
}

/* =========================
    Floating settings & toasts
    ========================= */
.floating-settings {
  position: fixed;
  z-index: 200;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 12px;
}

.floating-settings__toggle {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 44px solid rgba(255, 217, 0, 0.185);
  background: rgba(255, 217, 0, 0.438);
  color: var(--gold);
  cursor: grab;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  box-shadow: 0 0px 66px rgba(255, 217, 0, 0.918);
  padding: 0; /* Thêm để reset padding mặc định */
  line-height: 0; /* Giúp căn ảnh động tốt hơn */
}

.floating-settings__toggle:active {
  cursor: grabbing;
}

.floating-settings.open .floating-settings__toggle {
  cursor: pointer;
}

/* ===================== FIX START ===================== */
/* Sửa lỗi tràn thanh trượt (slider overflow) */

.floating-settings__panel {
  width: 320px;
  max-width: calc(100vw - 32px);
  box-sizing: border-box;
  padding: 22px 22px;
  border-radius: 36px;
  background: linear-gradient(160deg, rgba(16, 16, 16, 0.96), rgba(6, 6, 6, 0.9));
  border: 1px solid rgba(var(--gold-rgb), 0.4);
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: var(--gold);
  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.185), 0 0 32px rgba(var(--gold-rgb), 0.08);
  backdrop-filter: blur(12px);
}

.floating-settings__panel h4 {
  margin: 0 0 12px;
  font-size: 22px;
  font-weight: 700;
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.floating-settings__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1px;
  font-size: 14px;
  width: 100%;
}

.floating-settings__row--toggle {
  gap: 16px;
}

.floating-settings__row-label,
.floating-settings__section-title {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  font-weight: 600;
}

.floating-settings__row-label {
  flex: 1;
  min-width: 0;
}

.floating-settings__section-title {
  font-size: 15px;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: 2px;
}

.floating-settings__icon {
  width: 30px;
  height: 30px;
  border-radius: 12px;
  background: linear-gradient(140deg, rgba(var(--gold-rgb), 0.22), rgba(255, 153, 0, 0.08));
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--gold);
  box-shadow: 0 10px 24px rgba(var(--gold-rgb), 0.18);
  flex-shrink: 0;
}

.floating-settings__icon svg {
  width: 16px;
  height: 16px;
}

.floating-settings__row--language {
  flex-direction: column;
  align-items: stretch;
  gap: 14px;
}

.floating-settings__row--button {
  gap: 14px;
}

.floating-settings__row--button button {
  flex-shrink: 0;
}

.floating-settings__row--theme {
  flex-direction: column;
  align-items: stretch;
  gap: 12px;
}

.floating-settings__theme-toggle {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 18px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background-image: none;
  background: rgba(var(--gold-rgb), 0.12);
  color: inherit;
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.18);
  font-weight: 600;
}

.floating-settings__theme-toggle:hover,
.floating-settings__theme-toggle:focus-visible {
  border-color: rgba(var(--gold-rgb), 0.6);
  box-shadow: 0 0 22px rgba(var(--gold-rgb), 0.35);
}

.floating-settings__theme-current {
  font-size: 13px;
  font-weight: 600;
  color: var(--gold-soft);
}

.floating-settings__theme-toggle-arrow {
  font-size: 16px;
  transition: transform 0.2s ease;
}

.floating-settings__theme-toggle.open .floating-settings__theme-toggle-arrow {
  transform: rotate(180deg);
}

.floating-settings__theme-options {
  display: grid;
  gap: 8px;
  grid-template-columns: repeat(auto-fit, minmax(132px, 1fr));
  max-height: 228px;
  overflow-y: auto;
  padding-right: 4px;
}

.floating-settings__theme-option {
  width: 100%;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(var(--gold-rgb), 0.3);
  background-image: none;
  background: rgba(var(--gold-rgb), 0.08);
  color: inherit;
  box-shadow: inset 0 0 0 rgba(var(--gold-rgb), 0);
  font-weight: 600;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.floating-settings__theme-option:hover,
.floating-settings__theme-option:focus-visible {
  border-color: rgba(var(--gold-rgb), 0.55);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.24);
  transform: translateY(-1px);
}

.floating-settings__theme-option[data-active="true"] {
  border-color: rgba(var(--gold-rgb), 0.75);
  box-shadow: 0 0 22px rgba(var(--gold-rgb), 0.35);
}

.floating-settings__theme-option-icon {
  font-size: 18px;
}

.floating-settings__theme-option-label {
  text-align: left;
  font-size: 13px;
}

.floating-settings__theme-swatch {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 2px solid rgba(var(--gold-rgb), 0.25);
  box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.3);
}

.floating-settings__theme-option[data-active="true"] .floating-settings__theme-swatch {
  border-color: rgba(var(--gold-rgb), 0.8);
  box-shadow: 0 0 16px rgba(var(--gold-rgb), 0.45);
}

.floating-settings__vibration {
  display: flex;
  align-items: center;
  gap: 0px;
  flex: 1.5;
  min-width: 0;
}

.floating-settings__panel input[type="checkbox"] {
  appearance: none;
  width: 46px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(var(--gold-rgb), 0.15);
  position: relative;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.floating-settings__panel input[type="checkbox"]::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 4px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--gold);
  box-shadow: 0 2px 6px rgba(var(--gold-rgb), 0.45);
  transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
}

.floating-settings__panel input[type="checkbox"]:checked {
  background: linear-gradient(135deg, rgba(var(--gold-rgb), 0.6), rgba(var(--gold-secondary-rgb), 0.6));
  border-color: rgba(var(--gold-rgb), 0.6);
}

.floating-settings__panel input[type="checkbox"]:checked::after {
  transform: translateX(18px);
  background: #0b0b0b;
  box-shadow: 0 0 0 1px rgba(var(--gold-rgb), 0.7);
}

.floating-settings__panel input[type="checkbox"]:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.85);
  outline-offset: 3px;
}

.floating-settings__panel input[type="range"] {
  width: 100%;
  appearance: none;
  -webkit-appearance: none;
  background: linear-gradient(90deg, rgba(var(--gold-rgb), 0.28), rgba(var(--gold-secondary-rgb), 0.45));
  border-radius: 999px;
  height: 8px;
  border: 1px solid rgba(var(--gold-rgb), 0.3);
  cursor: pointer;
}

.floating-settings__panel input[type="range"]::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: 999px;
  background: transparent;
}

.floating-settings__panel input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--gold);
  box-shadow: 0 3px 12px rgba(var(--gold-rgb), 0.35);
  border: 1px solid rgba(var(--gold-rgb), 0.4);
  margin-top: -6px;
}

.floating-settings__panel input[type="range"]::-moz-range-track {
  height: 8px;
  border-radius: 999px;
  background: transparent;
}

.floating-settings__panel input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 1px solid rgba(var(--gold-rgb), 0.4);
  background: var(--gold);
  box-shadow: 0 3px 12px rgba(var(--gold-rgb), 0.35);
}

.floating-settings__panel input[type="range"]:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.75);
  outline-offset: 3px;
}

.floating-settings__value {
  white-space: nowrap;
  min-width: 62px;
  text-align: right;
  font-variant-numeric: tabular-nums;
  color: var(--gold-soft);
}

.floating-settings__links {
  display: flex;
  flex-direction: column;
  gap: 12px;
  font-size: 14px;
}

.floating-settings__links a {
  color: var(--gold);
  text-decoration: none;
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 10px 14px;
  border-radius: 18px;
  border: 1px solid rgba(var(--gold-rgb), 0.25);
  background: rgba(var(--gold-rgb), 0.08);
  transition: transform 0.2s ease, background 0.2s ease, border-color 0.2s ease,
    box-shadow 0.2s ease;
}

.floating-settings__links a:hover {
  background: rgba(var(--gold-rgb), 0.16);
  border-color: rgba(var(--gold-rgb), 0.4);
  box-shadow: 0 16px 30px rgba(var(--gold-rgb), 0.2);
}

.floating-settings__links a:active {
  transform: translateY(1px);
}

.floating-settings__links a:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.85);
  outline-offset: 3px;
}

.floating-settings__link-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--gold);
}

.floating-settings__link-icon svg {
  width: 18px;
  height: 18px;
}

.floating-settings__history {
  display: flex;
  flex-direction: column;
  gap: 14px;
  font-size: 13px;
  padding: 16px 18px;
  border-radius: 24px;
  background: rgba(14, 14, 14, 0.78);
  border: 1px solid rgba(var(--gold-rgb), 0.2);
  box-shadow: inset 0 0 0 1px rgba(var(--gold-rgb), 0.08);
}

.floating-settings__history-title {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  font-weight: 700;
}

.floating-settings__history-input {
  display: flex;
  gap: 8px;
}

.floating-settings__history-input input {
  flex: 1;
  padding: 8px 10px;
  border-radius: 16px;
  border: 1px solid rgba(var(--gold-rgb), 0.2);
  background: rgba(0, 0, 0, 0.6);
  color: var(--gold);
  font-size: 13px;
}

.floating-settings__history-input input::placeholder {
  color: rgba(var(--gold-rgb), 0.45);
}

.floating-settings__history-input button {
  padding: 8px 14px;
  border-radius: 16px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(var(--gold-rgb), 0.15);
  color: var(--gold);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease;
}

.floating-settings__history-input button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.floating-settings__history-status {
  margin: 0;
  font-size: 12px;
  opacity: 0.8;
}

.floating-settings__history-status--error {
  color: #ff8f8f;
  opacity: 1;
}

.floating-settings__history-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  border-radius: 20px;
  background: rgba(12, 12, 12, 0.85);
  border: 1px solid rgba(var(--gold-rgb), 0.25);
}

.floating-settings__history-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.floating-settings__history-field > span:first-child {
  font-weight: 600;
}

.floating-settings__history-address {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-variant-numeric: tabular-nums;
}

.floating-settings__history-muted {
  opacity: 0.7;
}

.floating-settings__history-result {
  text-align: right;
}

.floating-settings__history-note {
  margin: 0;
  font-size: 12px;
  opacity: 0.75;
}

.floating-settings__copy-btn {
  padding: 2px 8px;
  border-radius: 12px;
  border: 1px solid rgba(var(--gold-rgb), 0.4);
  background: rgba(var(--gold-rgb), 0.12);
  color: var(--gold);
  font-size: 11px;
  cursor: pointer;
}

.floating-settings__copy-btn:hover {
  background: rgba(var(--gold-rgb), 0.18);
}

.floating-settings__copy-btn:active {
  transform: scale(0.97);
}

.floating-settings__reset {
  width: 100%;
  padding: 10px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255, 99, 71, 0.7);
  background: rgba(255, 60, 60, 0.08);
  color: #ff7b7b;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.floating-settings__reset:hover {
  background: rgba(255, 60, 60, 0.16);
  color: #ff9b9b;
  border-color: rgba(255, 120, 90, 0.9);
}

.floating-settings__reset:active {
  transform: translateY(1px);
}

/* Văn bản nhắc Reveal + nút Clear */
.reveal-reminder-text {
  margin-top: 8px;
  font-size: 12px;
  opacity: 0.9;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  justify-content: flex-start;
  text-align: left;
  line-height: 1.2;
}
.reveal-reminder-text button {
  margin-top: 2px;
  margin-left: 8px !important;
  padding: 4px 8px;
  font-size: 10px;
}

/* =========================
    8) Leaderboard panel
    ========================= */
.leaderboard-panel {
  border: 1px solid var(--line);
  border-radius: 32px;
  padding: 16px;
  background: rgba(0,0,0,0.4);
  margin-top: 20px;
  max-width: 900px;
}
.leaderboard-panel h3 { text-align: center; margin-bottom: 4px; }
.leaderboard-panel p { text-align: center; font-size: 12px; opacity: 0.7; margin-bottom: 12px; }

.leaderboard-table th:nth-child(3),
.leaderboard-table td:nth-child(3),
.leaderboard-table th:nth-child(4),
.leaderboard-table td:nth-child(4),
.leaderboard-table th:nth-child(5),
.leaderboard-table td:nth-child(5),
.leaderboard-table th:nth-child(6),
.leaderboard-table td:nth-child(6) {
  text-align: center;
}

/* =========================
    9) RPS Area
    ========================= */
.rps-wrap {
  border: 1px solid var(--line);
  border-radius: 32px;
  padding: 16px;
  background: rgba(0,0,0,0.4);
  max-width: 900px;
  overflow: hidden;
  margin: 0 auto;
}
/* Tiêu đề RPS giữa khung */
.rps-wrap > h3 { text-align: center; }

/* Lưới 3 thẻ */
.rps-grid {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
  margin: 20px auto;
  width: 100%;
  max-width: 900px;
}

/* Mỗi ô (thẻ + caption) */
.rps-item {
  width: 30%;
  min-width: 120px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  perspective: 1200px;
}

/* Thẻ bài */
.rps-card {
  position: relative;
  width: 100%;
  aspect-ratio: 3 / 4;
  background: var(--panel);
  border: 4.4px solid #333;
  border-radius: 24px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 0 0 rgba(var(--gold-rgb), 0);
  transform-origin: center center;
  outline: none;
  will-change: transform;
  transform-style: preserve-3d;
}
.rps-card__inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.75s cubic-bezier(0.26, 0.66, 0.3, 1.01);
  transform-style: preserve-3d;
}
.rps-card__face {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: inherit;
  overflow: hidden;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}
.rps-card__face--front {
  background: rgba(0, 0, 0, 0.7);
}
.rps-card__face--back {
  background: rgba(0, 0, 0, 0.7);
  transform: rotateY(180deg);
}
.rps-card__image {
  width: 100%;
  height: 100%;
  object-fit: cover !important;
  display: block;
}
.rps-card__image--back {
  transform: scaleX(-1);
}
.rps-card:hover .rps-card__inner,
.rps-card:focus-visible .rps-card__inner,
.rps-item:focus-within .rps-card__inner,
.rps-card:active .rps-card__inner,
.rps-card.active .rps-card__inner {
  transform: rotateY(180deg);
}
.rps-card--animate .rps-card__inner {
  animation: rpsFlipReveal 0.9s cubic-bezier(0.32, 0.7, 0.33, 1) both;
}

/* Ngăn caption nằm đè lên ảnh nếu bị đặt nhầm chỗ */
.rps-card .rps-caption { display: none; }

/* Caption dưới mỗi thẻ (đặt ngoài .rps-card) */
.rps-caption {
  font-weight: 700;
  font-size: 14px;
  color: var(--gold);
  background: rgba(0,0,0,0.55);
  padding: 4px 10px;
  border-radius: 88px;
  border: 1px solid rgba(var(--gold-rgb), 0.3);
}
.rps-caption.active {
  border-color: var(--gold);
  box-shadow: 0 0 12px rgba(var(--gold-rgb), 0.35);
}

/* Hiệu ứng chọn thẻ */
.rps-card.active {
  border-color: var(--gold);
  box-shadow: 0 0 20px rgba(var(--gold-rgb), 0.5);
  animation: glowPulse 1.4s ease-in-out infinite;
}

.rps-card--animate {
  animation:
    rpsOrbitFlip 0.9s cubic-bezier(0.3, 0.5, 0.3, 1.1) both,
    rpsShake 0.45s ease 0.9s both,
    glowPulse 1.4s 1.25s ease-in-out infinite;
}

/* Focus (keyboard / accessibility) */
.rps-card:focus-visible {
  outline: 2px solid var(--gold);
  outline-offset: 2px;
  box-shadow: 0 0 16px rgba(var(--gold-rgb), 0.5);
}

/* Keyframes */
@keyframes rpsShake {
  0% { transform: translate3d(0, 0, 0) rotate(0); }
  20% { transform: translate3d(-3px, -1px, 0) rotate(-1.5deg); }
  40% { transform: translate3d(3px, 1px, 0) rotate(1.5deg); }
  60% { transform: translate3d(-2px, 0, 0) rotate(-1deg); }
  80% { transform: translate3d(2px, 0, 0) rotate(1deg); }
  100% { transform: translate3d(0, 0, 0) rotate(0); }
}

@keyframes rpsOrbitFlip {
  0% {
    transform: rotateY(0deg) rotateZ(0deg) translate3d(0, 0, 0) scale(1);
  }
  25% {
    transform: rotateY(120deg) rotateZ(4deg) translate3d(10px, -12px, 24px) scale(1.05);
  }
  50% {
    transform: rotateY(200deg) rotateZ(0deg) translate3d(0, -18px, 36px) scale(1.08);
  }
  75% {
    transform: rotateY(300deg) rotateZ(-4deg) translate3d(-10px, -12px, 24px) scale(1.05);
  }
  100% {
    transform: rotateY(360deg) rotateZ(0deg) translate3d(0, 0, 0) scale(1);
  }
}
@keyframes rpsFlipReveal {
  0% {
    transform: rotateY(0deg);
  }
  30% {
    transform: rotateY(120deg);
  }
  60% {
    transform: rotateY(200deg);
  }
  100% {
    transform: rotateY(180deg);
  }
}
@keyframes glowPulse {
  0%   { box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.2); }
  50%  { box-shadow: 0 0 22px rgba(var(--gold-rgb), 0.6); }
  100% { box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.2); }
}

.rps-wrap .actions-row {
  justify-content: center;
  width: 100%;
}

.rps-wrap .actions-row button {
  flex: 0 0 auto;
  min-width: 150px;
  text-align: center;
}

/* Mobile */
@media (max-width: 700px) {
  .rps-grid { gap: 10px; }
  .rps-item { width: 30%; min-width: 100px; }
}

/* ==== Theme-aware glow styles ==== */
/* ---- Gentle accent glow for key headings ---- */
.glowing-title {
  color: var(--gold-glow-text);
  text-shadow: 0 0 6px rgba(var(--gold-rgb), 0.65), 0 0 12px rgba(var(--gold-rgb), 0.45);
  animation: banmaoGoldenPulse 2.6s ease-in-out infinite;
}

@keyframes banmaoGoldenPulse {
  0%,
  100% {
    text-shadow: 0 0 4px rgba(var(--gold-rgb), 0.5), 0 0 14px rgba(var(--glow-strong-rgb), 0.35);
    filter: brightness(1);
  }
  50% {
    text-shadow: 0 0 10px rgba(var(--gold-rgb), 0.9), 0 0 20px rgba(var(--gold-rgb), 0.6);
    filter: brightness(1.08);
  }
}

button.approved {
  background: linear-gradient(90deg, var(--approved-start), var(--approved-end));
  color: var(--approved-foreground);
  border: none;
  border-radius: 36px;
  padding: 10px 14px;
  font-weight: 700;
  cursor: not-allowed;
  opacity: 0.9;
  transition: 0.2s;
  box-shadow: 0 0 6px rgba(var(--approved-rgb), 0.4);
  animation: approvedGlow 2s infinite ease-in-out;
}
button.approved:hover {
  filter: brightness(1.08);
  box-shadow: 0 0 12px rgba(var(--approved-rgb), 0.6);
}
@keyframes approvedGlow {
  0% { box-shadow: 0 0 8px rgba(var(--approved-rgb), 0.4); }
  50% { box-shadow: 0 0 16px rgba(var(--approved-rgb), 0.8); }
  100% { box-shadow: 0 0 8px rgba(var(--approved-rgb), 0.4); }
}
/* ---- Căn giữa tiêu đề các section (Active Rooms, v.v.) ---- */
section > h3 {
  text-align: center;
}

/* ---- Hàng Salt + nút: cùng hàng trên desktop, gọn trên mobile ---- */

/* Bảo đảm input co giãn đúng và không tràn khung */
.actions-row input {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Desktop: một hàng | 1 cột cho input-container + 3 cột cho 3 nút */
@media (min-width: 701px) {
  .actions-row {
    display: grid;
    grid-template-columns: 1fr auto auto auto; /* [Salt input] | Commit | Reveal | Claim */
    gap: 8px;
    align-items: center;   /* căn giữa theo chiều dọc với các nút */
  }

  /* Input container hiển thị theo hàng ngang, ẩn label để không đội chiều cao */
  .actions-row > div {
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0; /* tránh gây tràn lưới */
  }
  .actions-row label {
    display: none; /* ẩn label "Salt" trên desktop để các phần tử cùng hàng */
  }
  .actions-row input {
    flex: 1 1 auto;  /* input chiếm phần còn lại */
  }
}

/* Mobile: cho phép xuống dòng linh hoạt */
@media (max-width: 700px) {
  .actions-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
  }
  .actions-row > div {
    flex: 1 1 260px;
    min-width: 260px;
  }
  .actions-row label {
    display: block;   /* hiện lại label khi màn nhỏ */
    margin-bottom: 4px;
  }
}
/* Chips lịch sử phòng */
.room-chip {
  border: 1px solid var(--line);
  background: #111;
  color: var(--gold);
  font-weight: 700;
  min-width: 56px;
}
.room-chip.selected {
  border-color: var(--gold);
  box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.35);
  background: linear-gradient(90deg, #2a2a2a, #1a1a1a);
}
/* Shake highlight when important update happens on a room row */
@keyframes banmaoShake {
  0% { transform: translateX(0) }
  20% { transform: translateX(-4px) }
  40% { transform: translateX(4px) }
  60% { transform: translateX(-3px) }
  80% { transform: translateX(3px) }
  100% { transform: translateX(0) }
}
.shake {
  animation: banmaoShake 0.6s ease-in-out 1;
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.35) !important;
}

@keyframes appAlertShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-4px); }
}

.app-shake {
  animation: appAlertShake 0.6s linear infinite;
}
/* =========================================
    FIX: Bảng cuộn ngang trên mobile
   ========================================= */

:where(
    .table-container,
    .personal-board__table-wrapper,
    .leaderboard-panel,
    .rps-wrap,
    .stake-section,
    .join-room-section,
    .personal-board,
    .rules-panel
) {
  position: relative;
  background: rgba(12, 12, 12, 0.82);
  border: 1px solid rgba(var(--gold-rgb), 0.08);
  transition: box-shadow 0.35s ease, transform 0.3s ease, border-color 0.3s ease, background 0.3s ease;
  will-change: transform, box-shadow;
}

:where(
    .table-container,
    .personal-board__table-wrapper,
    .leaderboard-panel,
    .rps-wrap,
    .stake-section,
    .join-room-section,
    .personal-board,
    .rules-panel
):is(:hover, :focus-visible, :focus-within, :active) {
  box-shadow:
    0 0 18px rgba(var(--gold-rgb), 0.38),
    0 0 48px rgba(var(--gold-rgb), 0.28);
  border-color: rgba(var(--gold-rgb), 0.55);
  background: rgba(26, 21, 0, 0.82);
  transform: translateY(-3px);
}

/* 1. Tạo container cho phép cuộn ngang */
.table-container {
  overflow-x: auto; /* Đây là thuộc tính quan trọng nhất */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* Giúp cuộn mượt hơn trên iOS */
  border: 1px solid transparent; /* Viền thực tế sẽ kế thừa từ lớp glow */
  border-radius: 32px; /* Bo góc cho container */
  margin-top: 12px;
  max-height: clamp(320px, 70vh, 720px);
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.section-heading {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.section-heading h3 {
  margin: 0;
}

.section-heading__refresh {
  flex-shrink: 0;
}

.table-container::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.table-container::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.table-container::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--scrollbar-thumb), rgba(var(--gold-secondary-rgb), 0.55));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px var(--scrollbar-thumb-shadow);
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

.table-container::-webkit-scrollbar-thumb:hover,
.table-container::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, var(--scrollbar-thumb-active), rgba(var(--glow-strong-rgb), 0.95));
  box-shadow: 0 0 12px 3px rgba(var(--gold-rgb), 0.55);
}

/* 2. Đặt chiều rộng tối thiểu cho bảng */
/* Bảng sẽ luôn rộng ít nhất 750px, nếu màn hình hẹp hơn thì sẽ xuất hiện thanh cuộn */
.table-container .table {
  min-width: 750px;
  border: none; /* Bỏ viền của bảng vì container đã có rồi */
}

.table-container .table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: rgba(17, 17, 17, 0.92);
  backdrop-filter: blur(6px);
}

/* 3. Bỏ viền top của hàng đầu tiên để không bị viền kép */
.table-container .table tr:first-child td,
.table-container .table tr:first-child th {
  border-top: none;
}

.personal-board {
  margin-top: 24px;
  border: 1px solid rgba(var(--gold-rgb), 0.1);
  border-radius: 32px;
  padding: 20px;
  background: rgba(12, 12, 12, 0.85);
  backdrop-filter: blur(8px);
  text-align: center;
}

.personal-board__heading {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  text-align: center;
}

.personal-board__heading-text {
  flex: 1 1 220px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.personal-board__controls {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.personal-board__refresh {
  width: 44px;
  height: 36px;
}

.personal-board__toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  background: rgba(24, 24, 24, 0.9);
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  border-radius: 999px;
  color: var(--gold);
  font-size: 13px;
  line-height: 1;
  min-width: 44px;
  padding: 6px 12px;
  white-space: nowrap;
  transition: background 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.personal-board__toggle:hover {
  transform: none;
  filter: brightness(1.12);
}

.personal-board__toggle:disabled {
  opacity: 0.45;
  cursor: default;
  filter: none;
}

.personal-board__toggle--active {
  background: linear-gradient(90deg, rgba(var(--gold-rgb), 0.2), rgba(var(--gold-secondary-rgb), 0.25));
  border-color: rgba(var(--gold-rgb), 0.8);
  color: var(--gold-soft);
  box-shadow: 0 0 12px rgba(var(--gold-rgb), 0.25);
}

.personal-board__toggle--active:hover {
  filter: brightness(1.05);
}

.personal-board__toggle-label {
  font-size: 12px;
  letter-spacing: 0.01em;
}

.personal-board__heading h3 {
  margin: 0;
  font-size: 1.25rem;
  color: var(--gold-soft);
  text-align: center;
}

.personal-board__heading p {
  margin: 4px 0 16px;
  font-size: 13px;
  opacity: 0.8;
  text-align: center;
}

.personal-board__empty {
  margin: 0;
  font-size: 13px;
  opacity: 0.7;
}

.personal-board__table-wrapper {
  margin-top: 16px;
  border-radius: 28px;
  border: 1px solid rgba(var(--gold-rgb), 0.12);
  background: rgba(10, 10, 10, 0.82);
  overflow: hidden;
}

.personal-board--all-limited .personal-board__table-wrapper {
  max-height: 440px;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.personal-board--all-limited .personal-board__table-wrapper::-webkit-scrollbar {
  width: 6px;
}

.personal-board--all-limited .personal-board__table-wrapper::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.personal-board--all-limited .personal-board__table-wrapper::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--scrollbar-thumb), rgba(var(--gold-secondary-rgb), 0.5));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px var(--scrollbar-thumb-shadow);
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

.personal-board--all-limited .personal-board__table-wrapper::-webkit-scrollbar-thumb:hover,
.personal-board--all-limited .personal-board__table-wrapper::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, var(--scrollbar-thumb-active), rgba(var(--glow-strong-rgb), 0.95));
  box-shadow: 0 0 12px 3px rgba(var(--gold-rgb), 0.55);
}

.personal-board--all-limited .personal-board__table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
}

.personal-board--collapsed .personal-board__table-wrapper {
  max-height: 260px;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.personal-board--collapsed .personal-board__table-wrapper::-webkit-scrollbar {
  width: 6px;
}

.personal-board--collapsed .personal-board__table-wrapper::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.personal-board--collapsed .personal-board__table-wrapper::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--scrollbar-thumb), rgba(var(--gold-secondary-rgb), 0.5));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px var(--scrollbar-thumb-shadow);
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

.personal-board--collapsed .personal-board__table-wrapper::-webkit-scrollbar-thumb:hover,
.personal-board--collapsed .personal-board__table-wrapper::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, var(--scrollbar-thumb-active), rgba(var(--glow-strong-rgb), 0.95));
  box-shadow: 0 0 12px 3px rgba(var(--gold-rgb), 0.55);
}

.personal-board--collapsed .personal-board__table thead th {
  position: sticky;
  top: 0;
  z-index: 1;
}

.personal-board__table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.personal-board__table thead th {
  background: rgba(var(--gold-rgb), 0.06);
  color: var(--gold-soft);
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.06em;
  padding: 12px 16px;
  text-align: center;
}

.personal-board__table tbody td {
  padding: 14px 16px;
  border-bottom: 1px solid rgba(var(--gold-rgb), 0.08);
  vertical-align: middle;
  text-align: center;
}

.personal-board__table tbody td.action-col > * {
  margin-left: auto;
  margin-right: auto;
}

.personal-board__table tbody tr:last-child td {
  border-bottom: none;
}

.personal-board__row {
  transition: background 0.2s ease;
}

.personal-board--focused {
  border-color: rgba(var(--gold-rgb), 0.35);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.18);
}

.personal-board__row--urgent {
  background: rgba(var(--gold-secondary-rgb), 0.08);
}

.personal-board__row--claim {
  background: rgba(255, 80, 80, 0.08);
}

.personal-board__row--finished,
.personal-board__row--finished-win,
.personal-board__row--finished-lose,
.personal-board__row--finished-draw {
  background: rgba(0, 180, 120, 0.06);
}

.personal-board__row--finished-lose {
  background: rgba(255, 80, 80, 0.06);
}

.personal-board__row--finished-draw {
  background: rgba(var(--gold-rgb), 0.05);
}

.personal-board__room {
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--gold);
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
  text-align: center;
}

.personal-board__opponent {
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: center;
  font-size: 12px;
  text-align: center;
}

.personal-board__phase {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 12px;
  font-weight: 600;
  color: rgba(var(--gold-rgb), 0.9);
  align-items: center;
  text-align: center;
}

.personal-board__time {
  font-size: 11px;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.7);
}

.personal-board__status p {
  margin: 0;
  font-size: 13px;
  color: var(--gold);
  text-align: center;
}

.personal-board__status span {
  display: block;
  margin-top: 4px;
  font-size: 12px;
  opacity: 0.75;
  text-align: center;
}

.personal-board__stake {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
  text-align: center;
}

.personal-board__stake-value {
  font-weight: 600;
  font-size: 13px;
}

.personal-board__choice-display {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(30, 30, 30, 0.9);
  border: 1px solid rgba(var(--gold-rgb), 0.2);
  font-size: 12px;
}

.personal-board__choices {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
}

.personal-board__choice-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(22, 22, 22, 0.85);
  color: inherit;
  font-size: 12px;
  cursor: pointer;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.personal-board__choice-button:hover,
.personal-board__choice-button:focus-visible {
  border-color: rgba(var(--gold-rgb), 0.8);
  box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.25);
  outline: none;
}

.personal-board__choice-button--active {
  background: linear-gradient(90deg, rgba(var(--gold-rgb), 0.2), rgba(var(--gold-secondary-rgb), 0.25));
  border-color: rgba(var(--gold-rgb), 0.9);
  box-shadow: 0 0 12px rgba(var(--gold-rgb), 0.3);
}

.personal-board__saved-choice {
  font-size: 12px;
  opacity: 0.75;
}

.personal-board__salt {
  align-self: center;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(var(--gold-rgb), 0.35);
  background: rgba(18, 18, 18, 0.8);
  color: var(--gold);
  font-size: 12px;
  cursor: pointer;
  transition: background 0.2s ease, box-shadow 0.2s ease;
}

.personal-board__salt:hover,
.personal-board__salt:focus-visible {
  background: rgba(var(--gold-rgb), 0.18);
  box-shadow: 0 0 10px rgba(var(--gold-rgb), 0.3);
  outline: none;
}

.personal-board__action-stack {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 8px;
}

.personal-board__action {
  padding: 8px 16px;
  border-radius: 999px;
  border: none;
  background: linear-gradient(90deg, var(--gold), var(--gold-secondary));
  color: #000;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.personal-board__action--danger {
  background: linear-gradient(90deg, #ff4d4f, #d9363e);
  color: #fff;
  box-shadow: 0 0 0 rgba(255, 77, 79, 0);
}

.personal-board__action:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(var(--gold-rgb), 0.25);
}

.personal-board__action.personal-board__action--danger:hover,
.personal-board__action.personal-board__action--danger:focus-visible {
  box-shadow: 0 8px 18px rgba(255, 77, 79, 0.45);
}

.personal-board__no-action {
  font-size: 12px;
  opacity: 0.5;
}

@media (max-width: 800px) {
  .personal-board__table-wrapper {
    border-radius: 20px;
  }

  .personal-board__table,
  .personal-board__table thead,
  .personal-board__table tbody,
  .personal-board__table th,
  .personal-board__table td,
  .personal-board__table tr {
    display: block;
  }

  .personal-board__table thead {
    display: none;
  }

  .personal-board__table tbody tr {
    margin: 0;
    padding: 12px 0;
    border-bottom: 1px solid rgba(var(--gold-rgb), 0.12);
  }

  .personal-board__table tbody tr:last-child {
    border-bottom: none;
  }

  .personal-board__table tbody td {
    border: none;
    padding: 10px 16px 10px 140px;
    position: relative;
    text-align: center;
  }

  .personal-board__table tbody td::before {
    content: attr(data-label);
    position: absolute;
    left: 16px;
    top: 10px;
    font-weight: 600;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: rgba(var(--gold-rgb), 0.85);
  }

  .personal-board__action-stack {
    width: 100%;
    align-items: center;
  }

  .personal-board__action,
  .personal-board__salt {
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 600px) {
  .personal-board__toggle {
    min-width: 36px;
    padding: 6px 10px;
  }

  .personal-board__toggle-label {
    display: none;
  }

.stake-section {
  position: relative;
  border: 1px solid rgba(60, 60, 60, 0.85);
  border-radius: 32px;
  padding: 18px 20px 24px;
  background: rgba(8, 8, 8, 0.78);
  transition: box-shadow 0.35s ease, transform 0.3s ease, border-color 0.3s ease, background 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 18px;
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
  box-sizing: border-box;
  overflow: hidden;
}

.stake-section__header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  flex-wrap: nowrap;
  margin-bottom: 4px;
}

.stake-section__title-row {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: nowrap;
}

.stake-section__title-actions {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.icon-refresh-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 999px;
  border: none;
  background: transparent;
  color: var(--gold);
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease, filter 0.2s ease;
  box-shadow: none;
  padding: 0;
}

.icon-refresh-button:hover,
.icon-refresh-button:focus-visible {
  transform: translateY(-1px);
  color: rgba(var(--gold-rgb), 0.85);
  filter: drop-shadow(0 0 12px rgba(var(--gold-rgb), 0.28));
}

.icon-refresh-button:focus-visible {
  outline: 2px solid rgba(var(--gold-rgb), 0.45);
  outline-offset: 2px;
}

.icon-refresh-button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
  filter: none;
}

.icon-refresh-button__icon {
  font-size: 16px;
}

.icon-refresh-button--spinning .icon-refresh-button__icon {
  animation: icon-refresh-spin 0.8s linear infinite;
}

@keyframes icon-refresh-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.stake-section__content {
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: center;
  gap: 20px;
}

.stake-section__toggle {
  margin: s0;
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
  border: 1px solid rgba(var(--gold-rgb), 0.55);
  border-radius: 9999px;
  min-height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  color: var(--gold);
  transition: transform 0.25s ease, background 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
  box-shadow: 0 0 12px rgba(var(--gold-rgb), 0.12);
  padding: 6px 12px;
  backdrop-filter: blur(6px);
  filter: none;
}

.stake-section__toggle:hover,
.stake-section__toggle:focus-visible {
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
  border-color: rgba(var(--gold-rgb), 0.8);
  transform: translateY(-2px);
  box-shadow: 0 0 18px rgba(var(--gold-rgb), 0.45);
}

.stake-section__toggle:active {
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
  box-shadow: 0 0 20px rgba(var(--gold-rgb), 0.5);
}

.stake-section__toggle:disabled {
  opacity: 0.85;
  cursor: not-allowed;
  transform: none;
  box-shadow: 0 0 0 rgba(var(--gold-rgb), 0);
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
  border-color: rgba(var(--gold-rgb), 0.35);
  color: rgba(var(--gold-rgb), 0.6);
}

.stake-section__toggle-icon {
  font-size: 22px;
}

.stake-section__message {
  margin: 0 auto;
  padding: 20px 22px;
  border-radius: 36px;
  border: 1px dashed rgba(var(--gold-rgb), 0.5);
  text-align: center;
  color: rgba(var(--gold-rgb), 0.9);
  font-weight: 600;
  max-width: 540px;
  background: rgba(20, 20, 20, 0.35);
  box-shadow:
    0 0 0 rgba(var(--gold-rgb), 0),
    inset 0 0 22px rgba(var(--gold-rgb), 0.12);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  min-height: 120px;
  animation: stake-message-pulse 1.8s ease-in-out infinite;
  align-self: center;
  backdrop-filter: blur(8px);
}

@keyframes stake-message-pulse {
  0% {
    border-color: rgba(var(--gold-rgb), 0.45);
    box-shadow:
      0 0 0 rgba(var(--gold-rgb), 0),
      inset 0 0 16px rgba(var(--gold-rgb), 0.08);
  }
  50% {
    border-color: rgba(var(--gold-rgb), 0.9);
    box-shadow:
      0 0 28px rgba(var(--gold-rgb), 0.4),
      inset 0 0 26px rgba(var(--gold-rgb), 0.2);
  }
  100% {
    border-color: rgba(var(--gold-rgb), 0.45);
    box-shadow:
      0 0 0 rgba(var(--gold-rgb), 0),
      inset 0 0 16px rgba(var(--gold-rgb), 0.08);
  }
}

@keyframes tile-glow-pulse {
  0% {
    border-color: rgba(var(--gold-rgb), 0.6);
    box-shadow:
      0 0 22px rgba(var(--gold-rgb), 0.35),
      0 0 42px rgba(var(--gold-rgb), 0.3);
  }
  50% {
    border-color: rgba(var(--gold-rgb), 0.85);
    box-shadow:
      0 0 30px rgba(var(--gold-rgb), 0.48),
      0 0 56px rgba(var(--gold-rgb), 0.36);
  }
  100% {
    border-color: rgba(var(--gold-rgb), 0.6);
    box-shadow:
      0 0 22px rgba(var(--gold-rgb), 0.35),
      0 0 42px rgba(var(--gold-rgb), 0.3);
  }
}

@keyframes panel-glow-pulse {
  0% {
    border-color: rgba(var(--gold-rgb), 0.55);
    box-shadow:
      0 0 18px rgba(var(--gold-rgb), 0.34),
      0 0 48px rgba(var(--gold-rgb), 0.24);
  }
  50% {
    border-color: rgba(var(--gold-rgb), 0.85);
    box-shadow:
      0 0 28px rgba(var(--gold-rgb), 0.48),
      0 0 60px rgba(var(--gold-rgb), 0.34);
  }
  100% {
    border-color: rgba(var(--gold-rgb), 0.55);
    box-shadow:
      0 0 18px rgba(var(--gold-rgb), 0.34),
      0 0 48px rgba(var(--gold-rgb), 0.24);
  }
}

.stake-section__title {
  margin: 0;
  white-space: nowrap;
}

.stake-section--collapsed .stake-section__info-table {
  pointer-events: none;
  opacity: 0.5;
}

.stake-section--collapsed .stake-section__content {
  padding-bottom: 4px;
}

@media (max-width: 640px) {
  .stake-section__header {
    flex-wrap: wrap;
    gap: 10px;
  }
  .stake-section__title-row {
    flex-wrap: wrap;
  }
}

@media (max-width: 555px) {
  .stake-section__toggle {
    padding: 8px;
    min-height: 36px;
  }
}

.rk-modal,
.rk-dialog,
.rainbowkit-modal {
  background: rgba(12, 12, 12, 0.94) !important;
  border: 1px solid rgba(var(--gold-rgb), 0.38) !important;
  box-shadow: 0 0 30px rgba(var(--gold-rgb), 0.28) !important;
  color: var(--gold) !important;
  backdrop-filter: blur(10px);
}

.rk-backdrop,
.rainbowkit-backdrop {
  background: rgba(0, 0, 0, 0.78) !important;
}

.rk-dialog button,
.rainbowkit-modal button {
  border-radius: 999px !important;
}
}

.language-switcher {
  display: flex;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
  border-radius: 48px;
  padding: 8px;
  background: rgba(20, 20, 20, 0.85);
  border: 1px solid rgba(var(--gold-rgb), 0.25);
  overflow: hidden;
  gap: 6px;
}

.language-switcher__scroller {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding: 4px 2px 4px;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

.language-switcher__scroller::-webkit-scrollbar {
  height: 6px;
}

.language-switcher__scroller::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, var(--scrollbar-thumb), rgba(var(--gold-secondary-rgb), 0.5));
  border-radius: 999px;
  box-shadow: inset 0 0 0 1px var(--scrollbar-thumb-shadow);
  transition: box-shadow 0.2s ease, background 0.2s ease;
}

.language-switcher__scroller::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

.language-switcher__scroller::-webkit-scrollbar-thumb:hover,
.language-switcher__scroller::-webkit-scrollbar-thumb:active {
  background: linear-gradient(90deg, var(--scrollbar-thumb-active), rgba(var(--glow-strong-rgb), 0.95));
  box-shadow: 0 0 10px 3px rgba(var(--gold-rgb), 0.55);
}

.language-switcher__option {
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
}

.language-switcher__option:focus-visible {
  outline: none;
}

.language-switcher__option:focus-visible .language-switcher__icon {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.65),
    0 0 0 4px rgba(var(--gold-rgb), 0.45);
}

.language-switcher__option.active {
  transform: translateY(-2px) scale(1.05);
}

.language-switcher__option.active .language-switcher__icon {
  border-color: rgba(var(--gold-rgb), 0.9);
  box-shadow: 0 12px 28px rgba(var(--gold-rgb), 0.28);
}

.language-switcher__option:hover .language-switcher__icon,
.language-switcher__option:focus-visible .language-switcher__icon {
  border-color: rgba(var(--gold-rgb), 0.75);
}

.language-switcher__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.language-switcher__flag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 18px;
  line-height: 1;
  text-align: center;
  filter: drop-shadow(0 0 4px rgba(0, 0, 0, 0.35));
}

.join-room-section {
  position: relative;
  border: 1px solid rgba(var(--gold-rgb), 0.32);
  border-radius: 32px;
  padding: 16px;
  background: rgba(var(--gold-rgb), 0.08);
  transition: box-shadow 0.35s ease, transform 0.3s ease, border-color 0.3s ease, background 0.3s ease;
  transform: translateY(0);
}

.join-room-section__create-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-bottom: 18px;
}

.join-room-section__field,
.join-room-section__commit-window {
  width: 100%;
  max-width: 480px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.join-room-section__label {
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  text-align: center;
  color: rgba(var(--gold-rgb), 0.9);
}

.join-room-section__input {
  text-align: center;
  font-weight: 600;
}

.join-room-section__hint {
  font-size: 12px;
  opacity: 0.85;
  text-align: center;
  color: rgba(var(--gold-rgb), 0.75);
}

.join-room-section__field-group {
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  justify-items: center;
}

.join-room-section__join-actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 10px;
  margin-top: 16px;
  width: min(100%, 520px);
  margin-left: auto;
  margin-right: auto;
}

#join-room-section .join-room-section__create-actions,
#join-room-section .join-room-section__join-actions {
  justify-content: center;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}

.join-room-section__create-actions {
  width: 100%;
  justify-content: center;
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: auto;
}

.join-room-section--highlight {
  box-shadow: 0 0 0 2px rgba(var(--gold-rgb), 0.5), 0 0 28px rgba(var(--gold-rgb), 0.45);
  transform: translateY(-2px);
  animation: join-section-pulse 1.2s ease-in-out 3;
  background: rgba(var(--gold-rgb), 0.12);
}

@keyframes join-section-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(var(--gold-rgb), 0.4), 0 0 16px rgba(var(--gold-rgb), 0.3);
    transform: translateY(-1px);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(var(--gold-rgb), 0.55), 0 0 30px rgba(var(--gold-rgb), 0.5);
    transform: translateY(-4px);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(var(--gold-rgb), 0.4), 0 0 18px rgba(var(--gold-rgb), 0.3);
    transform: translateY(-2px);
  }
}

.screenshot-mode .toast-wrapper,
.screenshot-mode .react-hot-toast {
  display: none !important;
}